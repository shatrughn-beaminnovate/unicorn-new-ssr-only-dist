"use strict";(self.webpackChunkunicorn_new_ssr=self.webpackChunkunicorn_new_ssr||[]).push([[592],{6074:(C,I,o)=>{o.d(I,{t:()=>h});var l=o(2340),m=o(1841),e=o(7716),s=o(4128),M=o(2323);let h=(()=>{class p{constructor(r,t,i){this.http=r,this.cartService=t,this.storageService=i,this.paymentApiUrl=l.N.paymentApiUrl}getPaymentModules(r){let t=new m.WM({"X-Auth-Token":`${this.storageService.getLocalStorageData("customer_token")}`,Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfbmFtZSI6ImFkbWluIiwiaWF0IjoxNjk0MTU3NjIwLjAsIm5iZiI6MTY5NDE1NzYyMSwiZXhwIjoxNjk0NDE2ODIxfQ.qem0n81kBluklK1e4Uqi5nzZGBvHRh0tDX_kSWdmDPI"});l.N.customerIdAllowed&&(t=t.append("customer-id",`${l.N.customerId}`));const i={headers:t};let c=l.N.isCheckoutUrlStatic?this.paymentApiUrl:this.cartService.checkoutBaseUrl$.getValue()?this.cartService.checkoutBaseUrl$.getValue()+"/public/api/v1/transactions":this.paymentApiUrl;return console.log("paymentURL : ",l.N.isCheckoutUrlStatic,":, ",c),this.http.get(r?`${c}/get_payment_modules?pincode=${r}`:`${c}/get_payment_modules`,i)}processPayment(r={}){let t=new m.WM({"X-Auth-Token":`${this.storageService.getLocalStorageData("customer_token")}`,Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfbmFtZSI6ImFkbWluIiwiaWF0IjoxNjk0MTU3NjIwLjAsIm5iZiI6MTY5NDE1NzYyMSwiZXhwIjoxNjk0NDE2ODIxfQ.qem0n81kBluklK1e4Uqi5nzZGBvHRh0tDX_kSWdmDPI"});l.N.customerIdAllowed&&(t=t.append("customer-id",`${l.N.customerId}`));const i={headers:t};let c=l.N.isCheckoutUrlStatic?this.paymentApiUrl:this.cartService.checkoutBaseUrl$.getValue()?this.cartService.checkoutBaseUrl$.getValue()+"/public/api/v1/transactions":this.paymentApiUrl;return this.http.post(`${c}/process_payment`,r,i)}checkPaymentStatus(r){let t=new m.WM({"X-Auth-Token":`${this.storageService.getLocalStorageData("customer_token")}`,Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfbmFtZSI6ImFkbWluIiwiaWF0IjoxNjk0MTU3NjIwLjAsIm5iZiI6MTY5NDE1NzYyMSwiZXhwIjoxNjk0NDE2ODIxfQ.qem0n81kBluklK1e4Uqi5nzZGBvHRh0tDX_kSWdmDPI"});l.N.customerIdAllowed&&(t=t.append("customer-id",`${l.N.customerId}`));const i={headers:t};let c=l.N.isCheckoutUrlStatic?this.paymentApiUrl:this.cartService.checkoutBaseUrl$.getValue()?this.cartService.checkoutBaseUrl$.getValue()+"/public/api/v1/transactions":this.paymentApiUrl;return this.http.get(`${c}/check_payment_status?order_id=${r}`,i)}makePayment(r,t={},i,c){console.log("Headers Before : ",i);const g={headers:new m.WM(Object.assign({"customer-id":`${l.N.customerId}`},i))};let f=l.N.isCheckoutUrlStatic?this.paymentApiUrl:this.cartService.checkoutBaseUrl$.getValue()?this.cartService.checkoutBaseUrl$.getValue()+"/public/api/v1/transactions":this.paymentApiUrl;return this.http.post(`${f}`,t,g)}isValidURL(r){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r)}}return p.\u0275fac=function(r){return new(r||p)(e.LFG(m.eN),e.LFG(s.N),e.LFG(M.V))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},4385:(C,I,o)=>{o.d(I,{g:()=>p});var l=o(5917),m=o(8002),e=o(5304),s=o(7716),M=o(1841),h=o(8583);let p=(()=>{class _{constructor(t,i){this.cd=t,this.http=i,this.imageLoading=!0,this.imageLoaded=!1,this.imageUrl="",this.imageLoadingUrl="assets/img/loader/3.gif",this.noImageUrl="assets/img/not-found/no-image-found.png",this.alt="Image Not Available",this.imageId="",this.imageClass="",this.imageContainerHeight="",this.imageContainerWidth="",this.imageContainerClass="",this.isLoadingImageExists=!0}ngOnInit(){this.checkAppFileExists(this.imageLoadingUrl).subscribe(t=>{this.isLoadingImageExists=t})}checkAppFileExists(t){return this.http.get(t,{responseType:"text"}).pipe((0,m.U)(i=>!0),(0,e.K)(i=>(0,l.of)(!1)))}onImageLoaded(){this.imageLoading=!1}handleEmptyImage(){console.log("Image not found"),this.imageLoading=!1,this.isLoadingImageExists&&(this.imageUrl=this.noImageUrl)}}return _.\u0275fac=function(t){return new(t||_)(s.Y36(s.sBO),s.Y36(M.eN))},_.\u0275cmp=s.Xpm({type:_,selectors:[["app-image-loader"]],inputs:{imageLoading:"imageLoading",imageLoaded:"imageLoaded",imageUrl:"imageUrl",imageLoadingUrl:"imageLoadingUrl",noImageUrl:"noImageUrl",alt:"alt",imageId:"imageId",imageClass:"imageClass",imageContainerHeight:"imageContainerHeight",imageContainerWidth:"imageContainerWidth",imageContainerClass:"imageContainerClass",id:"id"},decls:2,vars:10,consts:[[1,"image-container",3,"ngClass"],["loading","lazy",1,"img-fluid",3,"src","alt","id","ngClass","load","error"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"img",1),s.NdJ("load",function(){return i.onImageLoaded()})("error",function(){return i.handleEmptyImage()}),s.qZA(),s.qZA()),2&t&&(s.Udp("height",i.imageContainerHeight)("width",i.imageContainerWidth),s.Q6J("ngClass",i.imageContainerClass),s.xp6(1),s.Q6J("src",i.imageLoading?i.imageLoadingUrl:i.imageUrl,s.LSH)("alt",i.alt)("id",i.imageId)("ngClass",i.imageClass),s.uIk("id",i.id))},directives:[h.mk],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;width:auto}"]}),_})()},3990:(C,I,o)=>{o.d(I,{o:()=>c});var l=o(8259),m=o.n(l),e=o(7716),s=o(690),M=o(8030),h=o(3679),p=o(845),_=o(8583);function r(g,f){if(1&g){const n=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"div",9),e.TgZ(2,"input",10),e.NdJ("ngModelChange",function(d){return e.CHM(n),e.oxw().otp=d}),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().verifyOtp()}),e._uU(4,"Verify"),e.qZA(),e.qZA(),e.qZA()}if(2&g){const n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.otp)}}function t(g,f){if(1&g&&(e.TgZ(0,"label",12),e._uU(1,"Resend OTP In "),e.TgZ(2,"span",13),e._uU(3),e.qZA(),e._uU(4," seconds."),e.qZA()),2&g){const n=e.oxw();e.xp6(3),e.Oqu(n.isOtpResendTimerStart)}}const i=function(){return{width:"25rem"}};let c=(()=>{class g{constructor(n){this.commonService=n,this.isNotifyMeModalShow=!1,this.isOtpSent=!1,this.isOtpResendTimerStart=30,this.loading=!1}ngOnInit(){}show(n){this.productId=n,this.isNotifyMeModalShow=!0}sendOtp(){let n=!0;this.customerName||(n=!1,m().fire({icon:"error",title:"Error",html:"Please enter name",timer:5e3})),n&&(this.mobile||(n=!1,m().fire({icon:"error",title:"Error",html:"Please enter mobile number",timer:5e3})),/^[6-9]\d{9}$/.test(this.mobile)||(n=!1,m().fire({icon:"error",title:"Error",html:"Please enter valid mobile number",timer:5e3})),n&&n&&(this.loading=!0,this.commonService.postRequest("validate_number",{phone:this.mobile}).subscribe(d=>{if(console.log("validate_number resp : ",d),!0===d.status){this.isOtpSent=!0;let u=setInterval(()=>{this.loading=!1,0!=+this.isOtpResendTimerStart?this.isOtpResendTimerStart-=1:clearInterval(u)},1e3)}else this.loading=!1,this.isOtpSent=!1,m().fire({icon:"error",title:"Error",text:d.response||"Please enter valid mobile number",timer:5e3})},()=>{this.loading=!1,this.isOtpSent=!1,m().fire({icon:"error",title:"Error",html:"Something went wrong",timer:5e3})})))}verifyOtp(){this.commonService.postRequest("verify_otp",{phone:this.mobile,name:this.customerName,otp:this.otp,product_id:this.productId}).subscribe(a=>{var d;console.log("Verify_otp Resp : ",a),!0===a.status?null===(d=m().fire({icon:"success",title:"Success",html:a.message||"Thank You! <br> When product is available you got a mail",timer:5e3}))||void 0===d||d.then(()=>{this.isNotifyMeModalShow=!1}):m().fire({icon:"error",title:"Error",html:a.message||"Please enter valid OTP",timer:5e3})})}clearInput(){this.customerName="",this.mobile="",this.otp=""}}return g.\u0275fac=function(n){return new(n||g)(e.Y36(s.v))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-notify-me-modal"]],decls:9,vars:13,consts:[["position","top","header","Notify Me","position","center",3,"visible","modal","draggable","resizable","visibleChange"],[1,"mb-3"],["type","text","name","customer_name","id","notify_customer_name","placeholder","Enter your name...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","tel","name","mobile","id","notify_mobile","maxlength","10","pattern","^\\d{10}$","placeholder","Enter your phone number...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-right"],["label","Send OTP","styleClass","p-button-success p-button-sm",3,"loading","disabled","onClick"],["class","mb-3 mt-3",4,"ngIf"],["class","otp-resend-message",4,"ngIf"],[1,"mb-3","mt-3"],[1,"d-flex","align-items-center"],["type","text","name","otp","id","otp","maxlength","6","pattern","^\\d{6}$","placeholder","Enter OTP...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","btn-sm","ml-2",3,"click"],[1,"otp-resend-message"],[1,"timer"]],template:function(n,a){1&n&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(u){return a.isNotifyMeModalShow=u}),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(u){return a.customerName=u}),e.qZA(),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"input",3),e.NdJ("ngModelChange",function(u){return a.mobile=u}),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"p-button",5),e.NdJ("onClick",function(){return a.sendOtp()}),e.qZA(),e.qZA(),e.YNc(7,r,5,1,"div",6),e.YNc(8,t,5,1,"label",7),e.qZA()),2&n&&(e.Akn(e.DdM(12,i)),e.Q6J("visible",a.isNotifyMeModalShow)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("ngModel",a.customerName),e.xp6(2),e.Q6J("ngModel",a.mobile),e.xp6(2),e.Q6J("loading",a.loading)("disabled",a.loading||a.isOtpResendTimerStart>1&&a.isOtpResendTimerStart<30),e.xp6(1),e.Q6J("ngIf",a.isOtpSent),e.xp6(1),e.Q6J("ngIf",a.isOtpResendTimerStart>1&&a.isOtpResendTimerStart<30))},directives:[M.V,h.Fj,h.JJ,h.On,h.nD,h.c5,p.zx,_.O5],styles:[""]}),g})()}}]);