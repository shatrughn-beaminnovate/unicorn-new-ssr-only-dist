"use strict";(self.webpackChunkunicorn_new_ssr=self.webpackChunkunicorn_new_ssr||[]).push([[488],{9488:(B,u,r)=>{r.r(u),r.d(u,{ProductModule:()=>F});var s=r(633),l=r(2340),t=r(7716),m=r(690),_=r(1630),g=r(9783),h=r(6228),d=r(8583),f=r(3990),v=r(4385),Z=r(7271),p=r(3725),x=r(89);const T=["notifyMeModal"];function b(i,c){1&i&&t._UZ(0,"i",44)}function A(i,c){1&i&&t._UZ(0,"i",45)}function k(i,c){if(1&i&&(t.TgZ(0,"p",46),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.product?null:e.product.excerpt," ")}}function q(i,c){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"span",48),t.ALo(2,"priceAfterDotSmall"),t.ALo(3,"currency"),t._UZ(4,"span",49),t.ALo(5,"priceAfterDotSmall"),t.ALo(6,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,t.lcZ(3,4,+e.product.price)),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.lcZ(5,6,t.lcZ(6,8,+e.product.saleprice)),t.oJD)}}function y(i,c){if(1&i&&(t.TgZ(0,"div",50),t._UZ(1,"h4",51),t.ALo(2,"priceAfterDotSmall"),t.ALo(3,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,t.lcZ(3,3,e.product.saleprice)),t.oJD)}}function w(i,c){if(1&i&&(t.TgZ(0,"div",47),t.TgZ(1,"span",52),t._uU(2,"Prebook Price"),t.qZA(),t._UZ(3,"span",53),t.ALo(4,"priceAfterDotSmall"),t.ALo(5,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("innerHTML",t.lcZ(4,1,t.lcZ(5,3,e.product.custom_column_2)),t.oJD)}}function P(i,c){if(1&i&&(t.TgZ(0,"h4",54),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,(+e.product.price-+e.product.saleprice)/+e.product.price*100,"1.0-1"),"% off ")}}function C(i,c){if(1&i&&(t.TgZ(0,"div",47),t.TgZ(1,"span",52),t._uU(2,"Price After Cashback"),t.qZA(),t.TgZ(3,"span",56),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,1,e.product.saleprice-e.product.cashback_price))}}function I(i,c){if(1&i&&(t.TgZ(0,"div",47),t.TgZ(1,"span",52),t._uU(2,"Price After Cashback"),t.qZA(),t.TgZ(3,"span",56),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(4),t.Oqu(t.lcZ(5,1,e.product.saleprice-e.product.cashback_amt))}}function U(i,c){if(1&i&&(t.TgZ(0,"div",59),t.TgZ(1,"h4",60),t._uU(2,"Cashback Offers"),t.qZA(),t.TgZ(3,"h5",61),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(4),t.Oqu(e.product.cashback_note)}}function J(i,c){if(1&i&&(t.TgZ(0,"div",57),t.YNc(1,U,5,1,"div",58),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","1"===e.product.cashback&&""!==e.product.cashback_note.trim())}}function S(i,c){if(1&i&&(t.TgZ(0,"div",59),t.TgZ(1,"h4",60),t._uU(2,"Cashback Offers"),t.qZA(),t.TgZ(3,"h5",61),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(4),t.Oqu(e.product.cashback_note)}}function M(i,c){if(1&i&&(t.TgZ(0,"div",57),t.YNc(1,S,5,1,"div",58),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","0"===e.product.cashback&&""!==e.product.cashback_note.trim())}}function Q(i,c){if(1&i&&(t.ynx(0),t.YNc(1,C,6,3,"div",36),t.YNc(2,I,6,3,"div",36),t.YNc(3,J,2,1,"div",55),t.YNc(4,M,2,1,"div",55),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==+e.product.cashback&&null!==e.product.cashback_price&&"0"!==e.product.cashback_price),t.xp6(1),t.Q6J("ngIf","0"===e.product.cashback&&null!==e.product.cashback_amt&&"0"!==e.product.cashback_amt),t.xp6(1),t.Q6J("ngIf","1"===e.product.cashback&&null!==e.product.cashback_price&&"0"!==e.product.cashback_price),t.xp6(1),t.Q6J("ngIf","0"===e.product.cashback&&null!==e.product.cashback_amt&&"0"!==e.product.cashback_amt)}}function N(i,c){1&i&&(t.TgZ(0,"h4",62),t._uU(1,"Out of Stock"),t.qZA())}function L(i,c){if(1&i&&t._UZ(0,"app-add-to-cart",63),2&i){const e=t.oxw(2);t.Q6J("product",e.product)}}function Y(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.MAs(4).show(null==n.product?null:n.product.id)}),t._uU(1," Notify Me "),t.qZA()}}function H(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",5),t._UZ(2,"app-image-loader",6),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t.TgZ(5,"a",9),t._UZ(6,"i",10),t.qZA(),t.TgZ(7,"div",11),t.TgZ(8,"div",12),t._UZ(9,"i",13),t.qZA(),t.TgZ(10,"div",14),t.TgZ(11,"a",15),t._UZ(12,"i",16),t.qZA(),t.TgZ(13,"a",17),t._UZ(14,"i",18),t.qZA(),t.TgZ(15,"a",19),t._UZ(16,"i",20),t.qZA(),t.TgZ(17,"a",21),t._UZ(18,"i",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",23),t.TgZ(20,"div",4),t.TgZ(21,"div",24),t.TgZ(22,"h2",25),t._uU(23),t.qZA(),t.TgZ(24,"div",26),t.TgZ(25,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return n.wishlistToggle(n.product.id)}),t.YNc(26,b,1,0,"i",28),t.YNc(27,A,1,0,"i",29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",30),t.TgZ(29,"div",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClickProductShare()}),t._UZ(30,"i",13),t.qZA(),t.TgZ(31,"div",32),t.TgZ(32,"a",15),t._UZ(33,"i",16),t.qZA(),t.TgZ(34,"a",17),t._UZ(35,"i",18),t.qZA(),t.TgZ(36,"a",19),t._UZ(37,"i",20),t.qZA(),t.TgZ(38,"a",21),t._UZ(39,"i",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(40,k,2,1,"p",33),t.TgZ(41,"div",34),t.TgZ(42,"div",35),t.YNc(43,q,7,10,"div",36),t.YNc(44,y,4,5,"div",37),t.YNc(45,w,6,5,"div",36),t.qZA(),t.YNc(46,P,3,4,"h4",38),t.qZA(),t.YNc(47,Q,5,4,"ng-container",39),t.YNc(48,N,2,0,"h4",40),t.TgZ(49,"div",41),t.YNc(50,L,1,1,"app-add-to-cart",42),t.YNc(51,Y,2,0,"button",43),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("alt",e.product.images&&e.product.images.length>0?e.product.images[0].alt:" ")("imageUrl",e.product.images&&e.product.images.length>0?e.imgUrl+"/medium/"+e.product.images[0].filename:""),t.xp6(21),t.Oqu(e.product.name),t.xp6(3),t.Q6J("ngIf",!e.isWishlistAdded),t.xp6(1),t.Q6J("ngIf",e.isWishlistAdded),t.xp6(4),t.ekj("d-none",!e.isProductShare),t.xp6(9),t.Q6J("ngIf",null==e.product?null:e.product.excerpt),t.xp6(3),t.Q6J("ngIf",+e.product.price>+e.product.saleprice),t.xp6(1),t.Q6J("ngIf",+e.product.price==+e.product.saleprice),t.xp6(1),t.Q6J("ngIf",3==+e.product.enabled&&+e.product.custom_column_2>0),t.xp6(1),t.Q6J("ngIf",+e.product.price>+e.product.saleprice),t.xp6(1),t.Q6J("ngIf",+e.product.saleprice>+e.product.cashback_amt),t.xp6(1),t.Q6J("ngIf",0==+e.product.quantity),t.xp6(2),t.Q6J("ngIf",+e.product.quantity&&+e.product.quantity>0),t.xp6(1),t.Q6J("ngIf",0==+(null==e.product?null:e.product.quantity))}}function O(i,c){if(1&i&&(t.TgZ(0,"div",65),t.TgZ(1,"p-tabView"),t.TgZ(2,"p-tabPanel",66),t._UZ(3,"div",67),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("innerHTML",null==e.product?null:e.product.description,t.oJD)}}const R=[{path:":slug",component:(()=>{class i{constructor(e,o,n,a,j){this.commonService=e,this.route=o,this.dataLayerService=n,this.messageService=a,this.seoService=j,this.isProductShare=!1,this.imgUrl=l.N.imgUrl,this.recommendProduct=[]}ngOnInit(){this.route.paramMap.subscribe(e=>{var o;this.title=null===(o=e.params)||void 0===o?void 0:o.slug.replace(/-/g," "),this.getProductBySlug(this.route.snapshot.params.slug)})}getProductBySlug(e){this.commonService.postRequestWithSlug(e,{view:"variant"}).subscribe(n=>{if(this.product=n,this.fireGTMEventForViewProduct(this.product),this.seoService.setTitle(this.product.seo_title&&""!==this.product.seo_title?this.product.seo_title:this.product.name),this.product.meta&&""!==this.product.meta){const a=this.seoService.parseMetaTags(this.product.meta);this.seoService.setMetaTags(a)}else this.seoService.setMetaTags([{name:"description",content:this.product.name},{name:"keywords",content:this.product.name}])})}fireGTMEventForViewProduct(e){this.dataLayerService.push({event:"view_item",ecommerce:{items:[{item_id:e.id,item_name:e.name,price:e.price,currency:"INR",quantity:1}]}})}wishlistToggle(e){localStorage.getItem("customer_data")?(this.commonService.getRequestWithToken(`add_to_wishlist?product_id=${e}`).subscribe(o=>{(null==o?void 0:o.status)?this.isWishlistAdded=!this.isWishlistAdded:this.messageService.add({severity:"error",detail:o.message}),this.isWishlistAdded&&this.dataLayerService.push({event:"add_to_wishlist",ecommerce:{items:[{item_id:this.product.sku,item_name:this.product.name,currency:"INR",price:this.product.saleprice,quantity:this.product.quantity}]}})}),localStorage.removeItem("before-login-wishlist-add")):this.messageService.add({severity:"error",detail:"You  need to login to add product to wishlist"})}onClickProductShare(){this.isProductShare=!this.isProductShare}getRecommendedProducts(e){this.commonService.getData(`recommended_products/${e}`).subscribe(o=>{o&&o.status&&o.data&&(Array.isArray(o.data)&&o.data.length>0&&o.data.forEach((n,a)=>{n.images&&(o.data[a].images=Object.values(JSON.parse(n.images))[0])}),this.recommendProduct=o.data,this.dataLayerService.push({event:"view_item_list",ecommerce:{item_list_id:"recommended_products",item_list_name:"Recommended Products",items:o.data.map((n,a)=>({item_id:n.id,item_name:n.name,index:a,item_category:n.name,price:n.price,quantity:n.item_quantity}))}}))})}getFirstImageFileName(e){var o;if(e)return this.imgUrl+"/medium/"+(null===(o=e[0])||void 0===o?void 0:o.filename)}setFallbackImage(e){e.target.src="assets/img/not-found/no-image-found.png"}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.v),t.Y36(s.gz),t.Y36(_.n),t.Y36(g.ez),t.Y36(h.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product"]],viewQuery:function(e,o){if(1&e&&t.Gf(T,5),2&e){let n;t.iGM(n=t.CRH())&&(o.notifyMeModal=n.first)}},decls:5,vars:2,consts:[[1,"container","py-3"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],["notifyMeModal",""],[1,"row"],[1,"col-sm-5","text-center","border-right"],["imageContainerClass","mb-4","imageContainerHeight","25rem",3,"alt","imageUrl"],[1,"row","mb-3","justify-content-center","align-items-center"],[1,"col"],["href","#",1,"wishlist-btn"],[1,"fa","fa-heart-o","fa-lg"],["id","share-box-mobile",1,"d-none",2,"top","20% !important"],[1,"product-share-btn"],[1,"fa","fa-share-square-o","fa-lg"],[1,"product-share-box","d-none"],["data-action","share/whatsapp/share","href","https://api.whatsapp.com/send?text=https://shop.unicornstore.in/airpods-with-charging-case-unifest-2022-prebook","target","_blank",1,"share-icon","wp","mb-2"],[1,"fa","fa-whatsapp"],["href","https://www.facebook.com/sharer/sharer.php?u=https://shop.unicornstore.in/airpods-with-charging-case-unifest-2022-prebook","target","_blank",1,"share-icon","fb","ml-2","mb-2"],[1,"fa","fa-facebook"],["data-action","share","data-network","twitter","href","https://twitter.com/intent/tweet?url=https://shop.unicornstore.in/airpods-with-charging-case-unifest-2022-prebook","target","_blank","title","Share on Twitter",1,"share-icon","tw"],[1,"fa","fa-twitter"],["data-action","share","data-network","linkedin","href","https://www.linkedin.com/sharing/share-offsite/?url=https://shop.unicornstore.in/airpods-with-charging-case-unifest-2022-prebook","target","_blank","title","Share on LinkedIn",1,"share-icon","ln","ml-2"],[1,"fa","fa-linkedin"],[1,"col-12","col-sm-7","text-center","text-sm-left"],[1,"col-sm"],[1,"product-name","mb-3"],[1,"wishlist-btn","d-none"],["type","button",1,"btn","btn-link","text-dark","mt-1",3,"click"],["class","far fa-heart fa-lg","title","Add to Wishlist",4,"ngIf"],["class","fa fa-heart fa-lg","title","Remove to Wishlist",4,"ngIf"],[1,"col-sm-auto"],[1,"product-share-btn",3,"click"],[1,"product-share-box"],["class","pg",4,"ngIf"],[1,"d-flex","align-items-end"],[1,"price-holder","mt-2"],["class","price-box",4,"ngIf"],["class","price-box mt-3",4,"ngIf"],["class","price-discount ml-2",4,"ngIf"],[4,"ngIf"],["class","out-of-stock mt-3 mb-1",4,"ngIf"],[1,"mt-3","product-button"],[3,"product",4,"ngIf"],["class","btn btn-primary mt-3 mr-2","type","button",3,"click",4,"ngIf"],["title","Add to Wishlist",1,"far","fa-heart","fa-lg"],["title","Remove to Wishlist",1,"fa","fa-heart","fa-lg"],[1,"pg"],[1,"price-box"],[1,"price","price-strike","price-strike-sm","mb-2","d-block",3,"innerHTML"],[1,"d-block","mb-2","price-lg",3,"innerHTML"],[1,"price-box","mt-3"],[1,"d-block","mb-2","price-md",3,"innerHTML"],[1,"price-text"],[1,"price","ml-2",3,"innerHTML"],[1,"price-discount","ml-2"],["class","div",4,"ngIf"],[1,"price","ml-2"],[1,"div"],["class","cashback-offers-box",4,"ngIf"],[1,"cashback-offers-box"],[1,"heading","text-success"],[1,"heading-md","fw-400"],[1,"out-of-stock","mt-3","mb-1"],[3,"product"],["type","button",1,"btn","btn-primary","mt-3","mr-2",3,"click"],[1,"container"],["header","Description"],[1,"description",3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,H,52,16,"div",1),t.qZA(),t.YNc(2,O,4,1,"div",2),t._UZ(3,"app-notify-me-modal",null,3)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",null==o.product?null:o.product.description))},directives:[d.O5,f.o,v.g,Z.I,p.xf,p.x4],pipes:[x.Y,d.H9,d.JJ],styles:[""]}),i})()}];let D=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.Bz.forChild(R)],s.Bz]}),i})();var W=r(8769);let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[D,W.m]]}),i})()}}]);