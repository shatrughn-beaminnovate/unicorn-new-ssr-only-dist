"use strict";(self.webpackChunkunicorn_new_ssr=self.webpackChunkunicorn_new_ssr||[]).push([[291],{4291:(dt,_,a)=>{a.r(_),a.d(_,{AccessoriesModule:()=>at});var u=a(8583),p=a(633),g=a(2340),t=a(7716),f=a(690),v=a(9783),h=a(4128),x=a(263),Z=a(1630),S=a(2323),w=a(6228),C=a(1741),Q=a(3679),I=a(9075),q=a(7459),y=a(4385),A=a(7271),b=a(89);function J(i,n){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"span",18),t._UZ(2,"del",19),t.ALo(3,"priceAfterDotSmall"),t.ALo(4,"currency"),t.qZA(),t._UZ(5,"span",20),t.ALo(6,"priceAfterDotSmall"),t.ALo(7,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,2,t.lcZ(4,4,e.product.price)),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.lcZ(6,6,t.lcZ(7,8,e.product.saleprice)),t.oJD)}}function k(i,n){if(1&i&&(t.TgZ(0,"div",17),t._UZ(1,"span",20),t.ALo(2,"priceAfterDotSmall"),t.ALo(3,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,t.lcZ(3,3,e.product.saleprice)),t.oJD)}}function L(i,n){1&i&&(t.TgZ(0,"h5",21),t._uU(1,"Out of Stock"),t.qZA())}function Y(i,n){1&i&&(t.TgZ(0,"button",22),t._uU(1," Notify Me "),t.qZA())}function N(i,n){if(1&i&&t._UZ(0,"app-add-to-cart",23),2&i){const e=t.oxw(2);t.Q6J("product",e.product)}}function U(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return s.addToWishlist(s.product.id,s.product.name)}),t._uU(1,"Add to Wishlist"),t.qZA()}}function M(i,n){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t._UZ(3,"app-image-loader",6),t.qZA(),t.TgZ(4,"div",7),t.TgZ(5,"h2",8),t._uU(6),t.qZA(),t.TgZ(7,"div",9),t.YNc(8,J,8,10,"div",10),t.YNc(9,k,4,5,"div",10),t.qZA(),t._UZ(10,"p",11),t.YNc(11,L,2,0,"h5",12),t.TgZ(12,"div",13),t.YNc(13,Y,2,0,"button",14),t.YNc(14,N,1,1,"app-add-to-cart",15),t.YNc(15,U,2,0,"button",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("imageUrl",e.product&&e.product.images&&e.product.images.length>0?e.imgUrl+"/medium/"+e.product.images[0].filename:""),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Q6J("ngIf",e.product.price>e.product.saleprice),t.xp6(1),t.Q6J("ngIf",e.product.price===e.product.saleprice),t.xp6(1),t.Q6J("innerHTML",e.product.excerpt,t.oJD),t.xp6(1),t.Q6J("ngIf",0==+e.product.quantity),t.xp6(2),t.Q6J("ngIf",0==+e.product.quantity),t.xp6(1),t.Q6J("ngIf",e.product.quantity&&e.product.quantity>0),t.xp6(1),t.Q6J("ngIf",e.product.quantity)}}const H=function(){return{width:"40vw"}};let V=(()=>{class i{constructor(e,o,s,c,l,d,m,r,rt,lt){this.commonService=e,this.route=o,this.router=s,this.messageService=c,this.alertService=l,this.cartService=d,this.fb=m,this.location=r,this.titleService=rt,this.authService=lt,this.isQuickViewProduct=!1,this.imgUrl=g.N.imgUrl}ngOnInit(){}show(e){console.log("show: ",e),this.isQuickViewProduct=!0,this.product=e}addToWishlist(e,o){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.v),t.Y36(p.gz),t.Y36(p.F0),t.Y36(v.ez),t.Y36(C.c),t.Y36(h.N),t.Y36(Q.qu),t.Y36(u.Ye),t.Y36(I.Dx),t.Y36(x.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quick-view"]],decls:4,vars:9,consts:[[3,"visible","modal","showHeader","draggable","resizable","visibleChange"],["type","button",1,"btn-close",3,"click"],["class","mt-4 mb-2",4,"ngIf"],[1,"mt-4","mb-2"],[1,"row"],[1,"col-sm-5"],["imageContainerHeight","25rem",3,"imageUrl"],[1,"col-sm","border-left"],[1,"product-name","mb-3"],[1,"price-holder","mt-2"],["class","price-box",4,"ngIf"],[1,"para",3,"innerHTML"],["class","out-of-stock m-0",4,"ngIf"],[1,"all-action-box","d-flex","align-items-center","mt-3"],["type","button","data-toggle","modal","data-target","#notify_me_modal","class","btn btn-primary mr-2",4,"ngIf"],[3,"product",4,"ngIf"],["type","button","class","btn btn-light mr-2",3,"click",4,"ngIf"],[1,"price-box"],[1,"price"],[3,"innerHTML"],[1,"price","ml-2",3,"innerHTML"],[1,"out-of-stock","m-0"],["type","button","data-toggle","modal","data-target","#notify_me_modal",1,"btn","btn-primary","mr-2"],[3,"product"],["type","button",1,"btn","btn-light","mr-2",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(c){return o.isQuickViewProduct=c}),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.isQuickViewProduct=!o.isQuickViewProduct}),t._uU(2,"\xd7"),t.qZA(),t.YNc(3,M,16,9,"div",2),t.qZA()),2&e&&(t.Akn(t.DdM(8,H)),t.Q6J("visible",o.isQuickViewProduct)("modal",!0)("showHeader",!1)("draggable",!1)("resizable",!1),t.xp6(3),t.Q6J("ngIf",o.product))},directives:[q.V,u.O5,y.g,A.I],pipes:[b.Y,u.H9],styles:[""]}),i})();var D=a(3990),T=a(4119);const P=["quickViewModal"],F=["notifyMeModal"];function R(i,n){if(1&i&&(t.TgZ(0,"div",22),t.TgZ(1,"span",23),t._UZ(2,"del",24),t.ALo(3,"priceAfterDotSmall"),t.ALo(4,"currency"),t.qZA(),t._UZ(5,"span",25),t.ALo(6,"priceAfterDotSmall"),t.ALo(7,"currency"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,2,t.lcZ(4,4,+e.price)),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.lcZ(6,6,t.lcZ(7,8,+e.saleprice)),t.oJD)}}function $(i,n){if(1&i&&(t.TgZ(0,"div",22),t._UZ(1,"span",25),t.ALo(2,"priceAfterDotSmall"),t.ALo(3,"currency"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,t.lcZ(3,3,+e.saleprice)),t.oJD)}}function W(i,n){1&i&&(t.TgZ(0,"h5",26),t._uU(1,"Out of Stock"),t.qZA())}function B(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(2),t.MAs(7).show(s.id)}),t._uU(1," Notify Me "),t.qZA()}}function z(i,n){if(1&i&&t._UZ(0,"app-add-to-cart",28),2&i){const e=t.oxw(2).$implicit;t.Q6J("showRoundButton",!0)("product",e)}}function O(i,n){1&i&&t._UZ(0,"i",32)}function j(i,n){1&i&&t._UZ(0,"i",33)}function G(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2),c=s.$implicit,l=s.index;return t.oxw(2).wishlistToggle(c,l)}),t.YNc(1,O,1,0,"i",30),t.YNc(2,j,1,0,"i",31),t.qZA()}if(2&i){const e=t.oxw(2).index,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.isWishlistAdded[e]),t.xp6(1),t.Q6J("ngIf",o.isWishlistAdded[e])}}function E(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(2).quickProductView(s)}),t._UZ(1,"i",35),t.qZA()}}const X=function(i){return[i]};function K(i,n){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"a",10),t._UZ(3,"app-image-loader",11),t.TgZ(4,"h3",12),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",13),t.YNc(7,R,8,10,"div",14),t.YNc(8,$,4,5,"div",14),t.qZA(),t.YNc(9,W,2,0,"h5",15),t.TgZ(10,"div",16),t.TgZ(11,"div",17),t.YNc(12,B,2,0,"button",18),t.YNc(13,z,1,2,"app-add-to-cart",19),t.YNc(14,G,3,2,"button",20),t.YNc(15,E,2,0,"button",21),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(10,X,"/product/"+e.slug)),t.xp6(1),t.Q6J("imageUrl",e.images&&e.images.length>0?o.imgUrl+"/medium/"+e.images[0].filename:""),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",+e.price>+e.saleprice),t.xp6(1),t.Q6J("ngIf",+e.price==+e.saleprice),t.xp6(1),t.Q6J("ngIf",0==+e.quantity),t.xp6(3),t.Q6J("ngIf",0==+e.quantity),t.xp6(1),t.Q6J("ngIf",+e.quantity&&+e.quantity>0),t.xp6(1),t.Q6J("ngIf",+e.quantity),t.xp6(1),t.Q6J("ngIf",+e.quantity)}}function tt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,K,16,12,"div",7),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",1==+e.enabled)}}function et(i,n){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,tt,2,1,"ng-container",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.accessoriesHolder)}}function it(i,n){1&i&&(t.TgZ(0,"h4",36),t._uU(1," Accessories Not Available "),t.qZA())}function ot(i,n){1&i&&(t.TgZ(0,"h4",36),t._uU(1," Loading... "),t.qZA())}const st=[{path:":slug",component:(()=>{class i{constructor(e,o,s,c,l,d,m,r){this.commonService=e,this.route=o,this.messageService=s,this.cartService=c,this.authService=l,this.dataLayerService=d,this.storageService=m,this.seoService=r,this.accessoriesHolder=[],this.imgUrl=g.N.imgUrl,this.isWishlistAdded=[],this.isFetching=!1}ngOnInit(){this.commonService.baseUrls$.subscribe(e=>{var o,s;this.imgUrl=(null===(o=null==e?void 0:e.asset_url)||void 0===o?void 0:o.s3_link)||(null===(s=null==e?void 0:e.asset_url)||void 0===s?void 0:s.fallback)||g.N.imgUrl},()=>{this.imgUrl=g.N.imgUrl}),this.route.paramMap.subscribe(e=>{var o;this.title=e.params.slug;let s=null===(o=this.route.snapshot)||void 0===o?void 0:o.params.slug;this.getProductsBySlug(s)})}getProductsBySlug(e){this.isFetching=!0,this.commonService.postRequestWithSlug(e,{view:"variant"}).subscribe(s=>{this.accessoriesHolder=s.products,this.isFetching=!1,this.seoService.setTitle(this.storageService.getLocalStorageData("meta-title")||this.title),this.seoService.setTitle(this.storageService.getLocalStorageData("meta-tags")||this.title)},s=>{this.isFetching=!1})}addToCart(e,o){this.productId=e.id,this.productName=e.name;let s={product_id:e.id,quantity:1};if(console.log("ATC P : ",s),this.authService.isLoggedIn)this.cartService.addToCart(s).subscribe(c=>{console.log("Add to Cart Resp from api : ",c),c.status?(this.messageService.add({severity:"success",detail:c.message}),this.addToCartAnimation(o),this.storageService.removeLocalStorageData("payload-for-selected-product")):(this.messageService.add({severity:"error",detail:c.message}),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",e.id))});else if("allowed"===this.storageService.getLocalStorageData("guest")){if(this.storageService.getSessionStorageData("guest-cart-items")){let c=this.storageService.getSessionStorageData("guest-cart-items");if(-1===c.findIndex(l=>l.id===e.id))e.item_quantity=1,e.cart_item_id=e.id,c.push(e),this.messageService.add({severity:"success",detail:"Product successfully added to cart"});else{let l=c.findIndex(d=>d.id===e.id);c[l]=Object.assign(Object.assign({},c[l]),{item_quantity:c[l].item_quantity+1}),this.messageService.add({severity:"success",detail:"Item quantity in cart has been increased"})}this.storageService.setSessionStorageData("guest-cart-items",c)}else e.item_quantity=1,e.cart_item_id=e.id,this.storageService.setSessionStorageData("guest-cart-items",[e]),this.messageService.add({severity:"success",detail:"Product successfully added to cart"});console.log("Reached : "),this.cartService.getTotalGuestCartItemsSubject.next(!0)}else this.commonService.loginPopupToggle$.next(!0);this.dataLayerService.push({event:"add_to_cart",ecommerce:{item_list_id:"add_to_cart",item_list_name:"Accessories Add to Cart",items:[{item_id:e.id,item_name:e.name,currency:"INR",item_variant:e.name,price:e.saleprice,quantity:e.item_quantity}]}})}quickProductView(e){this.quickViewModal.show(e)}addToCartAnimation(e){const c=e.target.closest(".product-item").querySelector(".ngxImageZoomThumbnail"),l=document.querySelector(".cart-view-btn"),d=l.getBoundingClientRect(),m=c.getBoundingClientRect(),r=c.cloneNode(!0);r.classList.add("product-image"),document.body.appendChild(r),r.style.position="fixed",r.style.top=`${m.top}px`,r.style.left=`${m.left}px`,r.style.width=`${m.width}px`,r.style.height=`${m.height}px`,r.style.transition="all 0.5s cubic-bezier(0.42, 0, 0.58, 1)",r.style.zIndex="9999",l.classList.add("rubber-band-animation"),requestAnimationFrame(()=>{r.style.top=`${d.top}px`,r.style.left=`${d.left}px`,r.style.width="50px",r.style.height="50px",r.style.opacity="0",setTimeout(()=>{r.remove()},500),setTimeout(()=>{l.classList.remove("rubber-band-animation")},1e3)})}wishlistToggle(e,o){this.storageService.getLocalStorageData("customer_data")?(this.commonService.getRequestWithToken(`add_to_wishlist?product_id=${e.id}`).subscribe(s=>{!0===(null==s?void 0:s.status)?this.isWishlistAdded[o]=!this.isWishlistAdded[o]:this.messageService.add({severity:"error",detail:s.message}),this.isWishlistAdded[o]&&(this.dataLayerService.push({event:"add_to_wishlist",ecommerce:{item_list_id:"add_to_wishlist",item_list_name:"Accessories Add to Wishlist",items:[{item_id:e.id,item_name:e.name,currency:"INR",item_variant:e.name,price:e.saleprice,quantity:e.quantity}]}}),console.log("Accessories Add to Wishlist - dataLayer :",window.dataLayer))}),this.storageService.removeLocalStorageData("before-login-wishlist-add")):(this.storageService.setLocalStorageData("before-login-wishlist-add",e.id),this.commonService.loginPopupToggle$.next(!0))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.v),t.Y36(p.gz),t.Y36(v.ez),t.Y36(h.N),t.Y36(x.e),t.Y36(Z.n),t.Y36(S.V),t.Y36(w.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-accessories"]],viewQuery:function(e,o){if(1&e&&(t.Gf(P,5),t.Gf(F,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.quickViewModal=s.first),t.iGM(s=t.CRH())&&(o.notifyMeModal=s.first)}},decls:8,vars:3,consts:[[1,"container","py-3"],["class","row justify-content-center",4,"ngIf"],["class","heading text-center text-danger m-0 py-5",4,"ngIf"],["quickViewModal",""],["notifyMeModal",""],[1,"row","justify-content-center"],[4,"ngFor","ngForOf"],["class","col-sm-4 mb-3",4,"ngIf"],[1,"col-sm-4","mb-3"],[1,"accessories-product-box","h-100"],[3,"routerLink"],["imageContainerClass","mb-4","imageClass","product-item","imageContainerHeight","15rem",3,"imageUrl"],[1,"heading-link","mb-1"],[1,"price-holder","mt-2"],["class","price-box",4,"ngIf"],["class","out-of-stock m-0",4,"ngIf"],[1,"all-action-box","mt-3"],[1,"d-flex","justify-content-center","flex-sm-wrap"],["type","button","class","btn btn-primary mr-2",3,"click",4,"ngIf"],["styleClass","rounded",3,"showRoundButton","product",4,"ngIf"],["type","button","class","btn wishlist-btn",3,"click",4,"ngIf"],["type","button","class","btn expand-btn","pTooltip","Quick View","tooltipPosition","bottom",3,"click",4,"ngIf"],[1,"price-box"],[1,"price"],[3,"innerHTML"],[1,"price","ml-2",3,"innerHTML"],[1,"out-of-stock","m-0"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],["styleClass","rounded",3,"showRoundButton","product"],["type","button",1,"btn","wishlist-btn",3,"click"],["class","far fa-heart","pTooltip","Add to Wishlist","tooltipPosition","bottom",4,"ngIf"],["class","fa fa-heart","pTooltip","Remove from Wishlist","tooltipPosition","bottom",4,"ngIf"],["pTooltip","Add to Wishlist","tooltipPosition","bottom",1,"far","fa-heart"],["pTooltip","Remove from Wishlist","tooltipPosition","bottom",1,"fa","fa-heart"],["type","button","pTooltip","Quick View","tooltipPosition","bottom",1,"btn","expand-btn",3,"click"],[1,"fa","fa-eye"],[1,"heading","text-center","text-danger","m-0","py-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,et,2,1,"div",1),t.YNc(2,it,2,0,"h4",2),t.YNc(3,ot,2,0,"h4",2),t.qZA(),t._UZ(4,"app-quick-view",null,3),t._UZ(6,"app-notify-me-modal",null,4)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.accessoriesHolder&&o.accessoriesHolder.length>0),t.xp6(1),t.Q6J("ngIf",o.accessoriesHolder&&0===o.accessoriesHolder.length&&!o.isFetching),t.xp6(1),t.Q6J("ngIf",o.isFetching))},directives:[u.O5,V,D.o,u.sg,p.yS,y.g,A.I,T.u],pipes:[b.Y,u.H9],styles:[""]}),i})()}];let nt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.Bz.forChild(st)],p.Bz]}),i})();var ct=a(4834);let at=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,nt,ct.m,T.z]]}),i})()}}]);