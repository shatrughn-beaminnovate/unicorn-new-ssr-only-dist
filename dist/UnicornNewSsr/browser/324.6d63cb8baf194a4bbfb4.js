"use strict";(self.webpackChunkunicorn_new_ssr=self.webpackChunkunicorn_new_ssr||[]).push([[324],{1324:(J,p,s)=>{s.r(p),s.d(p,{IphoneLifeModule:()=>O});var d=s(633),f=s(2340),e=s(7716),u=s(690),m=s(1630),v=s(9075),g=s(8583),_=s(9783),x=s(4128),y=s(263),S=s(2323),L=s(6228),T=s(89);function I(i,a){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.calculateSalePercentage(t),"")}}function P(i,a){if(1&i&&e._UZ(0,"img",22),2&i){const t=e.oxw(2).$implicit,o=e.oxw();e.Q6J("src",o.imgUrl+"/full/"+t.images[0].filename,e.LSH)}}function Z(i,a){1&i&&e._UZ(0,"img",23)}function b(i,a){if(1&i&&(e._UZ(0,"h6",24),e.ALo(1,"priceAfterDotSmall"),e.ALo(2,"currency")),2&i){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",e.lcZ(1,1,e.lcZ(2,3,t.prebook_amt)),e.oJD)}}function C(i,a){if(1&i&&(e._UZ(0,"h6",24),e.ALo(1,"priceAfterDotSmall"),e.ALo(2,"currency")),2&i){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",e.lcZ(1,1,e.lcZ(2,3,t.saleprice)),e.oJD)}}function A(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.YNc(2,I,2,1,"span",13),e.TgZ(3,"div",14),e.YNc(4,P,1,1,"img",15),e.YNc(5,Z,1,0,"img",16),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"p",17),e._uU(8),e.qZA(),e.YNc(9,b,3,5,"h6",18),e.YNc(10,C,3,5,"h6",18),e.TgZ(11,"div",19),e.TgZ(12,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().addToCart(n)}),e._uU(13,"Add To Cart"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",t.price>t.saleprice),e.xp6(2),e.Q6J("ngIf",(null==t.images?null:t.images.length)>0),e.xp6(1),e.Q6J("ngIf",!t.images||0===t.images.length),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf","3"===t.enabled),e.xp6(1),e.Q6J("ngIf","1"===t.enabled)}}function w(i,a){if(1&i&&(e.TgZ(0,"div",9),e.YNc(1,A,14,6,"div",10),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","1"===t.enabled)}}const D=[{path:"",component:(()=>{class i{constructor(t,o,n,r,c,l,h,Y,F,H){this.commonService=t,this.router=o,this.dataLayerService=n,this.titleService=r,this.location=c,this.messageService=l,this.cartService=h,this.authService=Y,this.storageService=F,this.seoService=H,this.hotDealsHolder=[],this.imgUrl=f.N.imgUrl,this.customOptions={},this.cartItems=[],this.isAddingToCart=!1,this.quantity=1,this.showFirstButton=!0,this.showPopularButton=!1,this.showRoundButton=!1,this.customOptions={loop:!0,margin:15,mouseDrag:!0,touchDrag:!0,pullDrag:!0,stagePadding:50,dots:!0,navSpeed:700,navText:["<",">"],responsive:{0:{items:1,nav:!1,stagePadding:30},425:{items:2,nav:!1,stagePadding:30},768:{items:3,nav:!1,stagePadding:30},1024:{items:4,nav:!0},1440:{items:5,nav:!0}}}}ngOnInit(){this.seoService.setTitle("iPhone for Life"),this.seoService.setMetaTags([{name:"keywords",content:"iPhone for Life, iPhone for Life offer, iPhone for Life plan, iPhone for Life scheme, iPhone for Life benefits, iPhone for Life details"},{name:"description",content:"Get the iPhone for Life offer from Unicorn Store and enjoy the benefits of the iPhone for Life plan. Learn more about the iPhone for Life scheme and its details."}]),this.commonService.baseUrls$.subscribe(t=>{var o,n;this.imgUrl=(null===(o=null==t?void 0:t.asset_url)||void 0===o?void 0:o.s3_link)||(null===(n=null==t?void 0:t.asset_url)||void 0===n?void 0:n.fallback)||f.N.imgUrl},()=>{this.imgUrl=f.N.imgUrl}),this.getDataForIphoneLife()}getDataForIphoneLife(){this.commonService.getRequest("get_all_afls").subscribe(t=>{this.weekly_bestsellersHolder=t.data})}fetchDataWithDates(){const t=new Date,o=new Date(t.getTime()-6048e5),n=t,r={start_date:o.toISOString().slice(0,10),end_date:n.toISOString().slice(0,10)};this.commonService.postRequest("weekly_bestseller",r).subscribe(c=>{this.weekly_bestsellersHolder=c,this.weekly_bestsellersHolder.forEach(l=>{l.salePercentage=this.calculateSalePercentage(l)})})}calculateSalePercentage(t){if(0===t.price&&0===t.saleprice)return"0% off";if("string"==typeof t.price&&"string"==typeof t.saleprice){const n=parseFloat(t.price),r=parseFloat(t.saleprice);if(0===n&&0===r)return"0% off"}return Math.round((t.price-t.saleprice)/t.price*100)+"% off"}addToCart(t){this.productId=t.id,this.productName=t.name;let o={product_id:t.id,quantity:this.quantity,ipfl:!0};this.authService.isLoggedIn?(this.isAddingToCart=!0,this.cartService.addToCart(o).subscribe(n=>{this.isAddingToCart=!1,this.commonService.sidebarCartToggle$.next(!0),this.handleAddToCartGA4(this.product),n.status?(this.messageService.add({severity:"success",detail:n.message}),this.storageService.removeLocalStorageData("payload-for-selected-product")):(this.messageService.add({severity:"error",detail:n.message}),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",this.product.id))})):this.authService.checkGuestCheckoutStatus().subscribe(n=>{if(1==+n.data)this.storageService.setLocalStorageData("guest","not-allowed"),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",this.productId),this.commonService.loginPopupToggle$.next(!0);else{this.storageService.setLocalStorageData("guest","allowed");let r=this.storageService.getSessionStorageData("guest-cart-items"),c=r?JSON.parse(r):[],l=c.findIndex(h=>h.id===t.id);-1===l?(t.item_quantity=1,t.fixed_quantity=0,t.cart_item_id=t.id,t.ipfl=!0,c.push(t),this.messageService.add({severity:"success",detail:"Product successfully added to cart"})):(c[l].item_quantity+=1,this.messageService.add({severity:"success",detail:"Item quantity in cart has been increased"})),this.storageService.setSessionStorageData("guest-cart-items",c),this.cartService.getTotalGuestCartItemsSubject.next(!0),this.handleAddToCartGA4(t)}})}handleAddToCartGA4(t){this.dataLayerService.push({event:"add_to_cart",ecommerce:{item_list_id:"add_to_cart",item_list_name:"Add To Cart",items:[{item_id:t.sku,item_name:t.name,currency:"INR",price:t.saleprice,quantity:1}]}})}fireGA4EventOnPageLoad(){const t=this.location.path(),o=window.location.origin+t;this.dataLayerService.push({event:"Pageview",pagePath:o,pageTitle:"Hot Deals | Unicornstore"})}isKeyExist(t,o){return t.hasOwnProperty(o)}handleImageError(t,o){t.target.src=this.imgUrl+"/medium/"+(null==o?void 0:o.image)}onClickType(t){this.router.navigate(["type",t],{queryParams:{type:!0}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.v),e.Y36(d.F0),e.Y36(m.n),e.Y36(v.Dx),e.Y36(g.Ye),e.Y36(_.ez),e.Y36(x.N),e.Y36(y.e),e.Y36(S.V),e.Y36(L.v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-iPhone-life"]],inputs:{styleClass:"styleClass",showFirstButton:"showFirstButton",showPopularButton:"showPopularButton",showRoundButton:"showRoundButton"},decls:16,vars:1,consts:[[1,"container"],[1,"first-section"],[1,"iphoneforlife"],[1,"text-center"],["src","/assets/img/iphone_for_life_banner-24.png","alt","Banners",1,"img-fluid","iphone-for-you"],["routerLink","/iphone-for-life","target","_blank",1,"btn","btn-success"],[1,"container","mt-5"],[1,"row","justify-content-center"],["class","col-sm-3 mb-5",4,"ngFor","ngForOf"],[1,"col-sm-3","mb-5"],["class","card h-100",4,"ngIf"],[1,"card","h-100"],[1,"card-body"],["class","saless p-1",4,"ngIf"],[1,"text-center","slider-img-box"],["alt","Product Image","class","img-fluid",3,"src",4,"ngIf"],["src","./assets/img/not-found/no-image-found.png","alt"," ",4,"ngIf"],[1,"mt-2","pricee","truncated",2,"text-align","center"],[3,"innerHTML",4,"ngIf"],[1,"product-button","d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-info","mb-3","text-center","cart-buttons-type",3,"click"],[1,"saless","p-1"],["alt","Product Image",1,"img-fluid",3,"src"],["src","./assets/img/not-found/no-image-found.png","alt"," "],[3,"innerHTML"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"section",1),e.TgZ(2,"div",0),e.TgZ(3,"h1",2),e._uU(4,"iPhone for Life."),e.qZA(),e.TgZ(5,"h4",3),e._uU(6," Always have the latest iPhone. For life. "),e._UZ(7,"br"),e._uU(8," Upgrade to iPhone with an EMI starting \u20b92341 p.m* "),e.qZA(),e._UZ(9,"img",4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"a",5),e._uU(12,"What is iPhone for life?"),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"div",7),e.YNc(15,w,2,1,"div",8),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.weekly_bestsellersHolder))},directives:[d.yS,g.sg,g.O5],pipes:[T.Y,g.H9],styles:[".cart-buttons-type[_ngcontent-%COMP%]{max-width:50rem!important;overflow:hidden;text-overflow:ellipsis;transition:color .3s}.saless[_ngcontent-%COMP%]{position:absolute;top:12px;left:-28px;background-color:#28a745;color:#fff;font-size:12px;padding:5px 8px 3px;display:flex;align-items:flex-end;line-height:13px;font-weight:500;transform:rotate(-45deg);width:6rem;justify-content:center;letter-spacing:.025em;perspective:200px}.pricee[_ngcontent-%COMP%]{font-size:20px;margin:0;text-align:center}.price_main[_ngcontent-%COMP%]{font-size:17px;font-weight:500}.iphoneforlife[_ngcontent-%COMP%]{text-align:center;font-size:5rem;color:#71bf44;-webkit-background-clip:text;background-clip:text;margin-bottom:15px}section[_ngcontent-%COMP%]   .first-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#231f20;font-size:32px;font-weight:400;line-height:46px}.iphone-for-you[_ngcontent-%COMP%]{margin:0 auto;display:table}"]}),i})()}];let U=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(D)],d.Bz]}),i})();var M=s(8769);let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[U,M.m]]}),i})()}}]);