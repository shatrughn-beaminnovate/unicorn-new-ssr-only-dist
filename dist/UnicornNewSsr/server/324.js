"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=324,exports.ids=[324],exports.modules={1324:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IphoneLifeModule:()=>IphoneLifeModule});var router=__webpack_require__(633),environment=__webpack_require__(2340),core=__webpack_require__(7716),common_service=__webpack_require__(690),data_layer_service=__webpack_require__(1630),platform_browser=__webpack_require__(9075),common=__webpack_require__(8583),primeng_api=__webpack_require__(9783),cart_service=__webpack_require__(4128),auth_service=__webpack_require__(263),storage_service=__webpack_require__(2323),seo_service=__webpack_require__(6228),price_after_dot_small_pipe=__webpack_require__(89);function IphoneLifeComponent_div_15_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",21),core._uU(1),core.qZA()),2&rf){const re_product_r1=core.oxw(2).$implicit,ctx_r3=core.oxw();core.xp6(1),core.hij(" ",ctx_r3.calculateSalePercentage(re_product_r1),"")}}function IphoneLifeComponent_div_15_div_1_img_4_Template(rf,ctx){if(1&rf&&core._UZ(0,"img",22),2&rf){const re_product_r1=core.oxw(2).$implicit,ctx_r4=core.oxw();core.Q6J("src",ctx_r4.imgUrl+"/full/"+re_product_r1.images[0].filename,core.LSH)}}function IphoneLifeComponent_div_15_div_1_img_5_Template(rf,ctx){1&rf&&core._UZ(0,"img",23)}function IphoneLifeComponent_div_15_div_1_h6_9_Template(rf,ctx){if(1&rf&&(core._UZ(0,"h6",24),core.ALo(1,"priceAfterDotSmall"),core.ALo(2,"currency")),2&rf){const re_product_r1=core.oxw(2).$implicit;core.Q6J("innerHTML",core.lcZ(1,1,core.lcZ(2,3,re_product_r1.prebook_amt)),core.oJD)}}function IphoneLifeComponent_div_15_div_1_h6_10_Template(rf,ctx){if(1&rf&&(core._UZ(0,"h6",24),core.ALo(1,"priceAfterDotSmall"),core.ALo(2,"currency")),2&rf){const re_product_r1=core.oxw(2).$implicit;core.Q6J("innerHTML",core.lcZ(1,1,core.lcZ(2,3,re_product_r1.saleprice)),core.oJD)}}function IphoneLifeComponent_div_15_div_1_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.TgZ(0,"div",11),core.TgZ(1,"div",12),core.YNc(2,IphoneLifeComponent_div_15_div_1_span_2_Template,2,1,"span",13),core.TgZ(3,"div",14),core.YNc(4,IphoneLifeComponent_div_15_div_1_img_4_Template,1,1,"img",15),core.YNc(5,IphoneLifeComponent_div_15_div_1_img_5_Template,1,0,"img",16),core.qZA(),core.TgZ(6,"div",3),core.TgZ(7,"p",17),core._uU(8),core.qZA(),core.YNc(9,IphoneLifeComponent_div_15_div_1_h6_9_Template,3,5,"h6",18),core.YNc(10,IphoneLifeComponent_div_15_div_1_h6_10_Template,3,5,"h6",18),core.TgZ(11,"div",19),core.TgZ(12,"button",20),core.NdJ("click",__name(function(){core.CHM(_r14);const re_product_r1=core.oxw().$implicit;return core.oxw().addToCart(re_product_r1)},"IphoneLifeComponent_div_15_div_1_Template_button_click_12_listener")),core._uU(13,"Add To Cart"),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const re_product_r1=core.oxw().$implicit;core.xp6(2),core.Q6J("ngIf",re_product_r1.price>re_product_r1.saleprice),core.xp6(2),core.Q6J("ngIf",(null==re_product_r1.images?null:re_product_r1.images.length)>0),core.xp6(1),core.Q6J("ngIf",!re_product_r1.images||0===re_product_r1.images.length),core.xp6(3),core.Oqu(re_product_r1.name),core.xp6(1),core.Q6J("ngIf","3"===re_product_r1.enabled),core.xp6(1),core.Q6J("ngIf","1"===re_product_r1.enabled)}}function IphoneLifeComponent_div_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,IphoneLifeComponent_div_15_div_1_Template,14,6,"div",10),core.qZA()),2&rf){const re_product_r1=ctx.$implicit;core.xp6(1),core.Q6J("ngIf","1"===re_product_r1.enabled)}}__name(IphoneLifeComponent_div_15_div_1_span_2_Template,"IphoneLifeComponent_div_15_div_1_span_2_Template"),__name(IphoneLifeComponent_div_15_div_1_img_4_Template,"IphoneLifeComponent_div_15_div_1_img_4_Template"),__name(IphoneLifeComponent_div_15_div_1_img_5_Template,"IphoneLifeComponent_div_15_div_1_img_5_Template"),__name(IphoneLifeComponent_div_15_div_1_h6_9_Template,"IphoneLifeComponent_div_15_div_1_h6_9_Template"),__name(IphoneLifeComponent_div_15_div_1_h6_10_Template,"IphoneLifeComponent_div_15_div_1_h6_10_Template"),__name(IphoneLifeComponent_div_15_div_1_Template,"IphoneLifeComponent_div_15_div_1_Template"),__name(IphoneLifeComponent_div_15_Template,"IphoneLifeComponent_div_15_Template");class IphoneLifeComponent{constructor(commonService,router2,dataLayerService,titleService,location,messageService,cartService,authService,storageService,seoService){this.commonService=commonService,this.router=router2,this.dataLayerService=dataLayerService,this.titleService=titleService,this.location=location,this.messageService=messageService,this.cartService=cartService,this.authService=authService,this.storageService=storageService,this.seoService=seoService,this.hotDealsHolder=[],this.imgUrl=environment.N.imgUrl,this.customOptions={},this.cartItems=[],this.isAddingToCart=!1,this.quantity=1,this.showFirstButton=!0,this.showPopularButton=!1,this.showRoundButton=!1,this.customOptions={loop:!0,margin:15,mouseDrag:!0,touchDrag:!0,pullDrag:!0,stagePadding:50,dots:!0,navSpeed:700,navText:["<",">"],responsive:{0:{items:1,nav:!1,stagePadding:30},425:{items:2,nav:!1,stagePadding:30},768:{items:3,nav:!1,stagePadding:30},1024:{items:4,nav:!0},1440:{items:5,nav:!0}}}}ngOnInit(){this.seoService.setTitle("iPhone for Life"),this.seoService.setMetaTags([{name:"keywords",content:"iPhone for Life, iPhone for Life offer, iPhone for Life plan, iPhone for Life scheme, iPhone for Life benefits, iPhone for Life details"},{name:"description",content:"Get the iPhone for Life offer from Unicorn Store and enjoy the benefits of the iPhone for Life plan. Learn more about the iPhone for Life scheme and its details."}]),this.commonService.baseUrls$.subscribe(result=>{var _a,_b;this.imgUrl=(null===(_a=null==result?void 0:result.asset_url)||void 0===_a?void 0:_a.s3_link)||(null===(_b=null==result?void 0:result.asset_url)||void 0===_b?void 0:_b.fallback)||environment.N.imgUrl},()=>{this.imgUrl=environment.N.imgUrl}),this.getDataForIphoneLife()}getDataForIphoneLife(){this.commonService.getRequest("get_all_afls").subscribe(result=>{this.weekly_bestsellersHolder=result.data})}fetchDataWithDates(){const currentDate=new Date,startDate=new Date(currentDate.getTime()-6048e5),endDate=currentDate,payload={start_date:startDate.toISOString().slice(0,10),end_date:endDate.toISOString().slice(0,10)};this.commonService.postRequest("weekly_bestseller",payload).subscribe(result=>{this.weekly_bestsellersHolder=result,this.weekly_bestsellersHolder.forEach(product=>{product.salePercentage=this.calculateSalePercentage(product)})})}calculateSalePercentage(product){if(0===product.price&&0===product.saleprice)return"0% off";if("string"==typeof product.price&&"string"==typeof product.saleprice){const price=parseFloat(product.price),saleprice=parseFloat(product.saleprice);if(0===price&&0===saleprice)return"0% off"}const salePercentage=(product.price-product.saleprice)/product.price*100;return Math.round(salePercentage)+"% off"}addToCart(item){this.productId=item.id,this.productName=item.name;let payload={product_id:item.id,quantity:this.quantity,ipfl:!0};this.authService.isLoggedIn?(this.isAddingToCart=!0,this.cartService.addToCart(payload).subscribe(resp=>{this.isAddingToCart=!1,this.commonService.sidebarCartToggle$.next(!0),this.handleAddToCartGA4(this.product),resp.status?(this.messageService.add({severity:"success",detail:resp.message}),this.storageService.removeLocalStorageData("payload-for-selected-product")):(this.messageService.add({severity:"error",detail:resp.message}),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",this.product.id))})):this.authService.checkGuestCheckoutStatus().subscribe(resp=>{if(1==+resp.data)this.storageService.setLocalStorageData("guest","not-allowed"),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",this.productId),this.commonService.loginPopupToggle$.next(!0);else{this.storageService.setLocalStorageData("guest","allowed");let existingItems=this.storageService.getSessionStorageData("guest-cart-items"),existing=existingItems?JSON.parse(existingItems):[],index=existing.findIndex(cartItem=>cartItem.id===item.id);-1===index?(item.item_quantity=1,item.fixed_quantity=0,item.cart_item_id=item.id,item.ipfl=!0,existing.push(item),this.messageService.add({severity:"success",detail:"Product successfully added to cart"})):(existing[index].item_quantity+=1,this.messageService.add({severity:"success",detail:"Item quantity in cart has been increased"})),this.storageService.setSessionStorageData("guest-cart-items",existing),this.cartService.getTotalGuestCartItemsSubject.next(!0),this.handleAddToCartGA4(item)}})}handleAddToCartGA4(product){this.dataLayerService.push({event:"add_to_cart",ecommerce:{item_list_id:"add_to_cart",item_list_name:"Add To Cart",items:[{item_id:product.sku,item_name:product.name,currency:"INR",price:product.saleprice,quantity:1}]}})}fireGA4EventOnPageLoad(){const fullPath=this.location.path(),fullUrl=window.location.origin+fullPath;this.dataLayerService.push({event:"Pageview",pagePath:fullUrl,pageTitle:"Hot Deals | Unicornstore"})}isKeyExist(item,type){return item.hasOwnProperty(type)}handleImageError(event,item){event.target.src=this.imgUrl+"/medium/"+(null==item?void 0:item.image)}onClickType(slug){this.router.navigate(["type",slug],{queryParams:{type:!0}})}}__name(IphoneLifeComponent,"IphoneLifeComponent"),IphoneLifeComponent.\u0275fac=__name(function(t){return new(t||IphoneLifeComponent)(core.Y36(common_service.v),core.Y36(router.F0),core.Y36(data_layer_service.n),core.Y36(platform_browser.Dx),core.Y36(common.Ye),core.Y36(primeng_api.ez),core.Y36(cart_service.N),core.Y36(auth_service.e),core.Y36(storage_service.V),core.Y36(seo_service.v))},"IphoneLifeComponent_Factory"),IphoneLifeComponent.\u0275cmp=core.Xpm({type:IphoneLifeComponent,selectors:[["app-iPhone-life"]],inputs:{styleClass:"styleClass",showFirstButton:"showFirstButton",showPopularButton:"showPopularButton",showRoundButton:"showRoundButton"},decls:16,vars:1,consts:[[1,"container"],[1,"first-section"],[1,"iphoneforlife"],[1,"text-center"],["src","/assets/img/iphone_for_life_banner-24.png","alt","Banners",1,"img-fluid","iphone-for-you"],["routerLink","/iphone-for-life","target","_blank",1,"btn","btn-success"],[1,"container","mt-5"],[1,"row","justify-content-center"],["class","col-sm-3 mb-5",4,"ngFor","ngForOf"],[1,"col-sm-3","mb-5"],["class","card h-100",4,"ngIf"],[1,"card","h-100"],[1,"card-body"],["class","saless p-1",4,"ngIf"],[1,"text-center","slider-img-box"],["alt","Product Image","class","img-fluid",3,"src",4,"ngIf"],["src","./assets/img/not-found/no-image-found.png","alt"," ",4,"ngIf"],[1,"mt-2","pricee","truncated",2,"text-align","center"],[3,"innerHTML",4,"ngIf"],[1,"product-button","d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-info","mb-3","text-center","cart-buttons-type",3,"click"],[1,"saless","p-1"],["alt","Product Image",1,"img-fluid",3,"src"],["src","./assets/img/not-found/no-image-found.png","alt"," "],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.TgZ(1,"section",1),core.TgZ(2,"div",0),core.TgZ(3,"h1",2),core._uU(4,"iPhone for Life."),core.qZA(),core.TgZ(5,"h4",3),core._uU(6," Always have the latest iPhone. For life. "),core._UZ(7,"br"),core._uU(8," Upgrade to iPhone with an EMI starting \u20b92341 p.m* "),core.qZA(),core._UZ(9,"img",4),core.qZA(),core.qZA(),core.qZA(),core.TgZ(10,"div",3),core.TgZ(11,"a",5),core._uU(12,"What is iPhone for life?"),core.qZA(),core.qZA(),core.TgZ(13,"div",6),core.TgZ(14,"div",7),core.YNc(15,IphoneLifeComponent_div_15_Template,2,1,"div",8),core.qZA(),core.qZA()),2&rf&&(core.xp6(15),core.Q6J("ngForOf",ctx.weekly_bestsellersHolder))},"IphoneLifeComponent_Template"),directives:[router.yS,common.sg,common.O5],pipes:[price_after_dot_small_pipe.Y,common.H9],styles:[".cart-buttons-type[_ngcontent-%COMP%]{max-width:50rem!important;overflow:hidden;text-overflow:ellipsis;transition:color .3s}.saless[_ngcontent-%COMP%]{position:absolute;top:12px;left:-28px;background-color:#28a745;color:#fff;font-size:12px;padding:5px 8px 3px;display:flex;align-items:flex-end;line-height:13px;font-weight:500;transform:rotate(-45deg);width:6rem;justify-content:center;letter-spacing:.025em;perspective:200px}.pricee[_ngcontent-%COMP%]{font-size:20px;margin:0;text-align:center}.price_main[_ngcontent-%COMP%]{font-size:17px;font-weight:500}.iphoneforlife[_ngcontent-%COMP%]{text-align:center;font-size:5rem;color:#71bf44;-webkit-background-clip:text;background-clip:text;margin-bottom:15px}section[_ngcontent-%COMP%]   .first-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#231f20;font-size:32px;font-weight:400;line-height:46px}.iphone-for-you[_ngcontent-%COMP%]{margin:0 auto;display:table}"]});const routes=[{path:"",component:IphoneLifeComponent}];class HotDealsRoutingModule{}__name(HotDealsRoutingModule,"HotDealsRoutingModule"),HotDealsRoutingModule.\u0275fac=__name(function(t){return new(t||HotDealsRoutingModule)},"HotDealsRoutingModule_Factory"),HotDealsRoutingModule.\u0275mod=core.oAB({type:HotDealsRoutingModule}),HotDealsRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});var shared_module=__webpack_require__(8769);class IphoneLifeModule{}__name(IphoneLifeModule,"IphoneLifeModule"),IphoneLifeModule.\u0275fac=__name(function(t){return new(t||IphoneLifeModule)},"IphoneLifeModule_Factory"),IphoneLifeModule.\u0275mod=core.oAB({type:IphoneLifeModule}),IphoneLifeModule.\u0275inj=core.cJS({imports:[[HotDealsRoutingModule,shared_module.m]]})}};