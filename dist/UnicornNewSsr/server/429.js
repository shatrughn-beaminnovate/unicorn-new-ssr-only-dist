"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=429,exports.ids=[429],exports.modules={4385:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>ImageLoaderComponent});var rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5917),rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5304),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7716),_angular_common_http__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1841),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8583);class ImageLoaderComponent{constructor(cd,http){this.cd=cd,this.http=http,this.imageLoading=!0,this.imageLoaded=!1,this.imageUrl="",this.imageLoadingUrl="assets/img/loader/3.gif",this.noImageUrl="assets/img/not-found/no-image-found.png",this.alt="Image Not Available",this.imageId="",this.imageClass="",this.imageContainerHeight="",this.imageContainerWidth="",this.imageContainerClass="",this.isLoadingImageExists=!0}ngOnInit(){this.checkAppFileExists(this.imageLoadingUrl).subscribe(exists=>{this.isLoadingImageExists=exists})}checkAppFileExists(filePath){return this.http.get(filePath,{responseType:"text"}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.U)(response=>!0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(!1)))}onImageLoaded(){this.imageLoading=!1}handleEmptyImage(){console.log("Image not found"),this.imageLoading=!1,this.isLoadingImageExists&&(this.imageUrl=this.noImageUrl)}}__name(ImageLoaderComponent,"ImageLoaderComponent"),ImageLoaderComponent.\u0275fac=__name(function(t){return new(t||ImageLoaderComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_3__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_common_http__WEBPACK_IMPORTED_MODULE_4__.eN))},"ImageLoaderComponent_Factory"),ImageLoaderComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:ImageLoaderComponent,selectors:[["app-image-loader"]],inputs:{imageLoading:"imageLoading",imageLoaded:"imageLoaded",imageUrl:"imageUrl",imageLoadingUrl:"imageLoadingUrl",noImageUrl:"noImageUrl",alt:"alt",imageId:"imageId",imageClass:"imageClass",imageContainerHeight:"imageContainerHeight",imageContainerWidth:"imageContainerWidth",imageContainerClass:"imageContainerClass",id:"id"},decls:2,vars:10,consts:[[1,"image-container",3,"ngClass"],["loading","lazy",1,"img-fluid",3,"src","alt","id","ngClass","load","error"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"img",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("load",__name(function(){return ctx.onImageLoaded()},"ImageLoaderComponent_Template_img_load_1_listener"))("error",__name(function(){return ctx.handleEmptyImage()},"ImageLoaderComponent_Template_img_error_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Udp("height",ctx.imageContainerHeight)("width",ctx.imageContainerWidth),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngClass",ctx.imageContainerClass),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("src",ctx.imageLoading?ctx.imageLoadingUrl:ctx.imageUrl,_angular_core__WEBPACK_IMPORTED_MODULE_3__.LSH)("alt",ctx.alt)("id",ctx.imageId)("ngClass",ctx.imageClass),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("id",ctx.id))},"ImageLoaderComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk],styles:[".image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;width:auto}"]})},3990:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>NotifyMeModalComponent});var sweetalert2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8259),sweetalert2__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_0__),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7716),src_app_core_services_common_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(690),primeng_dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7459),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3679),primeng_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(845),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8583);function NotifyMeModalComponent_div_7_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_2__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(1,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"input",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(_r3);return _angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw().otp=$event},"NotifyMeModalComponent_div_7_Template_input_ngModelChange_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(3,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_2__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw().verifyOtp()},"NotifyMeModalComponent_div_7_Template_button_click_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(4,"Verify"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",ctx_r0.otp)}}function NotifyMeModalComponent_label_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(1,"Resend OTP In "),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"span",13),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(4," seconds."),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_2__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Oqu(ctx_r1.isOtpResendTimerStart)}}__name(NotifyMeModalComponent_div_7_Template,"NotifyMeModalComponent_div_7_Template"),__name(NotifyMeModalComponent_label_8_Template,"NotifyMeModalComponent_label_8_Template");const _c0=__name(function(){return{width:"25rem"}},"_c0");class NotifyMeModalComponent{constructor(commonService){this.commonService=commonService,this.isNotifyMeModalShow=!1,this.isOtpSent=!1,this.isOtpResendTimerStart=30,this.loading=!1}ngOnInit(){}show(productId){this.productId=productId,this.isNotifyMeModalShow=!0}sendOtp(){let success=!0;if(this.customerName||(success=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",html:"Please enter name",timer:5e3})),!success)return;this.mobile||(success=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",html:"Please enter mobile number",timer:5e3})),/^[6-9]\d{9}$/.test(this.mobile)||(success=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",html:"Please enter valid mobile number",timer:5e3})),success&&success&&(this.loading=!0,this.commonService.postRequest("validate_number",{phone:this.mobile}).subscribe(res=>{if(console.log("validate_number resp : ",res),!0===res.status){this.isOtpSent=!0;let intervalHolder=setInterval(()=>{this.loading=!1,0!=+this.isOtpResendTimerStart?this.isOtpResendTimerStart-=1:clearInterval(intervalHolder)},1e3)}else this.loading=!1,this.isOtpSent=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",text:res.response||"Please enter valid mobile number",timer:5e3})},()=>{this.loading=!1,this.isOtpSent=!1,sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",html:"Something went wrong",timer:5e3})}))}verifyOtp(){const payload={phone:this.mobile,name:this.customerName,otp:this.otp,product_id:this.productId};this.commonService.postRequest("verify_otp",payload).subscribe(res=>{var _a;console.log("Verify_otp Resp : ",res),!0===res.status?null===(_a=sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"success",title:"Success",html:res.message||"Thank You! <br> When product is available you got a mail",timer:5e3}))||void 0===_a||_a.then(()=>{this.isNotifyMeModalShow=!1}):sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().fire({icon:"error",title:"Error",html:res.message||"Please enter valid OTP",timer:5e3})})}clearInput(){this.customerName="",this.mobile="",this.otp=""}}__name(NotifyMeModalComponent,"NotifyMeModalComponent"),NotifyMeModalComponent.\u0275fac=__name(function(t){return new(t||NotifyMeModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(src_app_core_services_common_service__WEBPACK_IMPORTED_MODULE_1__.v))},"NotifyMeModalComponent_Factory"),NotifyMeModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:NotifyMeModalComponent,selectors:[["app-notify-me-modal"]],decls:9,vars:13,consts:[["position","top","header","Notify Me","position","center",3,"visible","modal","draggable","resizable","visibleChange"],[1,"mb-3"],["type","text","name","customer_name","id","notify_customer_name","placeholder","Enter your name...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","tel","name","mobile","id","notify_mobile","maxlength","10","pattern","^\\d{10}$","placeholder","Enter your phone number...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-right"],["label","Send OTP","styleClass","p-button-success p-button-sm",3,"loading","disabled","onClick"],["class","mb-3 mt-3",4,"ngIf"],["class","otp-resend-message",4,"ngIf"],[1,"mb-3","mt-3"],[1,"d-flex","align-items-center"],["type","text","name","otp","id","otp","maxlength","6","pattern","^\\d{6}$","placeholder","Enter OTP...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","btn-sm","ml-2",3,"click"],[1,"otp-resend-message"],[1,"timer"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"p-dialog",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("visibleChange",__name(function($event){return ctx.isNotifyMeModalShow=$event},"NotifyMeModalComponent_Template_p_dialog_visibleChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",__name(function($event){return ctx.customerName=$event},"NotifyMeModalComponent_Template_input_ngModelChange_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(3,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(4,"input",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("ngModelChange",__name(function($event){return ctx.mobile=$event},"NotifyMeModalComponent_Template_input_ngModelChange_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(5,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(6,"p-button",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("onClick",__name(function(){return ctx.sendOtp()},"NotifyMeModalComponent_Template_p_button_onClick_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(7,NotifyMeModalComponent_div_7_Template,5,1,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(8,NotifyMeModalComponent_label_8_Template,5,1,"label",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Akn(_angular_core__WEBPACK_IMPORTED_MODULE_2__.DdM(12,_c0)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("visible",ctx.isNotifyMeModalShow)("modal",!0)("draggable",!1)("resizable",!1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",ctx.customerName),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngModel",ctx.mobile),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("loading",ctx.loading)("disabled",ctx.loading||ctx.isOtpResendTimerStart>1&&ctx.isOtpResendTimerStart<30),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",ctx.isOtpSent),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",ctx.isOtpResendTimerStart>1&&ctx.isOtpResendTimerStart<30))},"NotifyMeModalComponent_Template"),directives:[primeng_dialog__WEBPACK_IMPORTED_MODULE_3__.V,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.c5,primeng_button__WEBPACK_IMPORTED_MODULE_5__.zx,_angular_common__WEBPACK_IMPORTED_MODULE_6__.O5],styles:[""]})},2429:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProductsModule:()=>ProductsModule});var common=__webpack_require__(8583),router=__webpack_require__(633),environment=__webpack_require__(2340),core=__webpack_require__(7716),common_service=__webpack_require__(690),platform_browser=__webpack_require__(9075),primeng_api=__webpack_require__(9783),cart_service=__webpack_require__(4128),auth_service=__webpack_require__(263),data_layer_service=__webpack_require__(1630),storage_service=__webpack_require__(2323),seo_service=__webpack_require__(6228),notify_me_modal_component=__webpack_require__(3990),image_loader_component=__webpack_require__(4385),add_to_cart_component=__webpack_require__(7271),primeng_tooltip=__webpack_require__(4119),price_after_dot_small_pipe=__webpack_require__(89);const _c0=["notifyMeModal"];function ProductsComponent_div_1_ng_container_1_div_1_div_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21),core.TgZ(1,"span",22),core._UZ(2,"del",23),core.ALo(3,"priceAfterDotSmall"),core.ALo(4,"currency"),core.qZA(),core._UZ(5,"span",24),core.ALo(6,"priceAfterDotSmall"),core.ALo(7,"currency"),core.qZA()),2&rf){const item_r5=core.oxw(2).$implicit;core.xp6(2),core.Q6J("innerHTML",core.lcZ(3,2,core.lcZ(4,4,item_r5.price)),core.oJD),core.xp6(3),core.Q6J("innerHTML",core.lcZ(6,6,core.lcZ(7,8,item_r5.saleprice)),core.oJD)}}function ProductsComponent_div_1_ng_container_1_div_1_div_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",21),core._UZ(1,"span",24),core.ALo(2,"priceAfterDotSmall"),core.ALo(3,"currency"),core.qZA()),2&rf){const item_r5=core.oxw(2).$implicit;core.xp6(1),core.Q6J("innerHTML",core.lcZ(2,1,core.lcZ(3,3,item_r5.saleprice)),core.oJD)}}function ProductsComponent_div_1_ng_container_1_div_1_h5_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h5",25),core._uU(1),core.ALo(2,"number"),core.qZA()),2&rf){const item_r5=core.oxw(2).$implicit;core.xp6(1),core.hij(" ",core.xi3(2,1,(item_r5.price-item_r5.saleprice)/item_r5.price*100,"1.0-0"),"% off ")}}function ProductsComponent_div_1_ng_container_1_div_1_h5_10_Template(rf,ctx){1&rf&&(core.TgZ(0,"h5",26),core._uU(1,"Out of Stock"),core.qZA())}function ProductsComponent_div_1_ng_container_1_div_1_button_13_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"button",27),core.NdJ("click",__name(function(){core.CHM(_r20);const item_r5=core.oxw(2).$implicit;return core.oxw(2),core.MAs(5).show(item_r5.id)},"ProductsComponent_div_1_ng_container_1_div_1_button_13_Template_button_click_0_listener")),core._uU(1," Notify Me "),core.qZA()}}function ProductsComponent_div_1_ng_container_1_div_1_app_add_to_cart_14_Template(rf,ctx){if(1&rf&&core._UZ(0,"app-add-to-cart",28),2&rf){const item_r5=core.oxw(2).$implicit;core.Q6J("showRoundButton",!0)("product",item_r5)}}function ProductsComponent_div_1_ng_container_1_div_1_button_15_i_1_Template(rf,ctx){1&rf&&core._UZ(0,"i",32)}function ProductsComponent_div_1_ng_container_1_div_1_button_15_i_2_Template(rf,ctx){1&rf&&core._UZ(0,"i",33)}function ProductsComponent_div_1_ng_container_1_div_1_button_15_Template(rf,ctx){if(1&rf){const _r26=core.EpF();core.TgZ(0,"button",29),core.NdJ("click",__name(function(){core.CHM(_r26);const ctx_r25=core.oxw(2),item_r5=ctx_r25.$implicit,i_r6=ctx_r25.index;return core.oxw(2).wishlistToggle(item_r5,i_r6)},"ProductsComponent_div_1_ng_container_1_div_1_button_15_Template_button_click_0_listener")),core.YNc(1,ProductsComponent_div_1_ng_container_1_div_1_button_15_i_1_Template,1,0,"i",30),core.YNc(2,ProductsComponent_div_1_ng_container_1_div_1_button_15_i_2_Template,1,0,"i",31),core.qZA()}if(2&rf){const i_r6=core.oxw(2).index,ctx_r14=core.oxw(2);core.xp6(1),core.Q6J("ngIf",!ctx_r14.isWishlistAdded[i_r6]),core.xp6(1),core.Q6J("ngIf",ctx_r14.isWishlistAdded[i_r6])}}__name(ProductsComponent_div_1_ng_container_1_div_1_div_7_Template,"ProductsComponent_div_1_ng_container_1_div_1_div_7_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_div_8_Template,"ProductsComponent_div_1_ng_container_1_div_1_div_8_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_h5_9_Template,"ProductsComponent_div_1_ng_container_1_div_1_h5_9_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_h5_10_Template,"ProductsComponent_div_1_ng_container_1_div_1_h5_10_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_button_13_Template,"ProductsComponent_div_1_ng_container_1_div_1_button_13_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_app_add_to_cart_14_Template,"ProductsComponent_div_1_ng_container_1_div_1_app_add_to_cart_14_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_button_15_i_1_Template,"ProductsComponent_div_1_ng_container_1_div_1_button_15_i_1_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_button_15_i_2_Template,"ProductsComponent_div_1_ng_container_1_div_1_button_15_i_2_Template"),__name(ProductsComponent_div_1_ng_container_1_div_1_button_15_Template,"ProductsComponent_div_1_ng_container_1_div_1_button_15_Template");const _c1=__name(function(a0){return[a0]},"_c1");function ProductsComponent_div_1_ng_container_1_div_1_Template(rf,ctx){if(1&rf){const _r30=core.EpF();core.TgZ(0,"div",7),core.TgZ(1,"div",8),core.TgZ(2,"a",9),core.NdJ("click",__name(function(){core.CHM(_r30);const item_r5=core.oxw().$implicit;return core.oxw(2).setMetaData(item_r5)},"ProductsComponent_div_1_ng_container_1_div_1_Template_a_click_2_listener")),core._UZ(3,"app-image-loader",10),core.TgZ(4,"h3",11),core._uU(5),core.qZA(),core.qZA(),core.TgZ(6,"div",12),core.YNc(7,ProductsComponent_div_1_ng_container_1_div_1_div_7_Template,8,10,"div",13),core.YNc(8,ProductsComponent_div_1_ng_container_1_div_1_div_8_Template,4,5,"div",13),core.qZA(),core.YNc(9,ProductsComponent_div_1_ng_container_1_div_1_h5_9_Template,3,4,"h5",14),core.YNc(10,ProductsComponent_div_1_ng_container_1_div_1_h5_10_Template,2,0,"h5",15),core.TgZ(11,"div",16),core.TgZ(12,"div",17),core.YNc(13,ProductsComponent_div_1_ng_container_1_div_1_button_13_Template,2,0,"button",18),core.YNc(14,ProductsComponent_div_1_ng_container_1_div_1_app_add_to_cart_14_Template,1,2,"app-add-to-cart",19),core.YNc(15,ProductsComponent_div_1_ng_container_1_div_1_button_15_Template,3,2,"button",20),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const item_r5=core.oxw().$implicit,ctx_r7=core.oxw(2);core.xp6(2),core.Q6J("routerLink",core.VKq(10,_c1,"/product/"+item_r5.slug)),core.xp6(1),core.Q6J("imageUrl",item_r5.images&&item_r5.images.length>0?ctx_r7.imgUrl+"/medium/"+item_r5.images[0].filename:""),core.xp6(2),core.Oqu(item_r5.name),core.xp6(2),core.Q6J("ngIf",item_r5.price>item_r5.saleprice),core.xp6(1),core.Q6J("ngIf",item_r5.price===item_r5.saleprice),core.xp6(1),core.Q6J("ngIf",item_r5.price>item_r5.saleprice),core.xp6(1),core.Q6J("ngIf",0==+item_r5.quantity),core.xp6(3),core.Q6J("ngIf","0"===item_r5.quantity),core.xp6(1),core.Q6J("ngIf",item_r5.quantity&&item_r5.quantity>0),core.xp6(1),core.Q6J("ngIf",item_r5.quantity)}}function ProductsComponent_div_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,ProductsComponent_div_1_ng_container_1_div_1_Template,16,12,"div",6),core.BQk()),2&rf){const item_r5=ctx.$implicit;core.xp6(1),core.Q6J("ngIf",1==+item_r5.enabled)}}function ProductsComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",4),core.YNc(1,ProductsComponent_div_1_ng_container_1_Template,2,1,"ng-container",5),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r0.productsHolder)}}function ProductsComponent_h4_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"h4",34),core._uU(1," Products Not Available "),core.qZA())}function ProductsComponent_h4_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"h4",34),core._uU(1," Loading... "),core.qZA())}__name(ProductsComponent_div_1_ng_container_1_div_1_Template,"ProductsComponent_div_1_ng_container_1_div_1_Template"),__name(ProductsComponent_div_1_ng_container_1_Template,"ProductsComponent_div_1_ng_container_1_Template"),__name(ProductsComponent_div_1_Template,"ProductsComponent_div_1_Template"),__name(ProductsComponent_h4_2_Template,"ProductsComponent_h4_2_Template"),__name(ProductsComponent_h4_3_Template,"ProductsComponent_h4_3_Template");class ProductsComponent{constructor(commonService,route,meta,messageService,cartService,authService,dataLayerService,storageService,seoService){this.commonService=commonService,this.route=route,this.meta=meta,this.messageService=messageService,this.cartService=cartService,this.authService=authService,this.dataLayerService=dataLayerService,this.storageService=storageService,this.seoService=seoService,this.productsHolder=[],this.imgUrl=environment.N.imgUrl,this.isWishlistAdded=[],this.isFetching=!1}ngOnInit(){this.commonService.baseUrls$.subscribe(result=>{var _a,_b;this.imgUrl=(null===(_a=null==result?void 0:result.asset_url)||void 0===_a?void 0:_a.s3_link)||(null===(_b=null==result?void 0:result.asset_url)||void 0===_b?void 0:_b.fallback)||environment.N.imgUrl},()=>{this.imgUrl=environment.N.imgUrl}),this.route.paramMap.subscribe(resp=>{var _a;this.title=resp.params.slug;let slug=null===(_a=this.route.snapshot)||void 0===_a?void 0:_a.params.slug;this.getProductsBySlug(slug)})}getProductsBySlug(slug){this.isFetching=!0,this.commonService.postRequestWithSlug(slug,{view:"variant"}).subscribe(result=>{this.productsHolder=result.products,this.isFetching=!1,this.seoService.setTitle(this.storageService.getLocalStorageData("meta-title")||this.title),this.seoService.setMetaTags(this.storageService.getLocalStorageData("meta-tags"))},error=>{this.isFetching=!1})}setMetaData(item){const metaArray=this.seoService.parseMetaTags(null==item?void 0:item.meta);this.storageService.setLocalStorageData("meta-tags",metaArray),this.storageService.setLocalStorageData("meta-title",null==item?void 0:item.seo_title)}addToCart(product,event){this.productId=product.id,this.productName=product.name;let payload={product_id:product.id,quantity:1};if(console.log("ATC P : ",payload),this.authService.isLoggedIn)this.cartService.addToCart(payload).subscribe(resp=>{console.log("Add to Cart Resp from api : ",resp),resp.status?(this.messageService.add({severity:"success",detail:resp.message}),this.addToCartAnimation(event),this.storageService.removeLocalStorageData("payload-for-selected-product")):(this.messageService.add({severity:"error",detail:resp.message}),this.storageService.setLocalStorageData("product-id-before-login-for-add-to-cart",product.id))});else if("allowed"===this.storageService.getLocalStorageData("guest")){if(this.storageService.getSessionStorageData("guest-cart-items")){let existing=this.storageService.getSessionStorageData("guest-cart-items");if(-1===existing.findIndex(item=>item.id===product.id))product.item_quantity=1,product.cart_item_id=product.id,existing.push(product),this.messageService.add({severity:"success",detail:"Product successfully added to cart"});else{let index=existing.findIndex(item=>item.id===product.id);existing[index]={...existing[index],item_quantity:existing[index].item_quantity+1},this.messageService.add({severity:"success",detail:"Item quantity in cart has been increased"})}this.storageService.setSessionStorageData("guest-cart-items",existing)}else product.item_quantity=1,product.cart_item_id=product.id,this.storageService.setSessionStorageData("guest-cart-items",[product]),this.messageService.add({severity:"success",detail:"Product successfully added to cart"});console.log("Reached : "),this.cartService.getTotalGuestCartItemsSubject.next(!0)}else this.commonService.loginPopupToggle$.next(!0);this.dataLayerService.push({event:"add_to_cart",ecommerce:{item_list_id:"add_to_cart",item_list_name:"Product Add to Cart",items:[{item_id:product.id,item_name:product.name,currency:"INR",item_variant:product.name,price:product.saleprice,quantity:product.item_quantity}]}})}addToCartAnimation(event){const productImage=event.target.closest(".product-item").querySelector(".ngxImageZoomThumbnail"),cartIcon=document.querySelector(".cart-view-btn"),rect=cartIcon.getBoundingClientRect(),productImageRect=productImage.getBoundingClientRect(),clone=productImage.cloneNode(!0);clone.classList.add("product-image"),document.body.appendChild(clone),clone.style.position="fixed",clone.style.top=`${productImageRect.top}px`,clone.style.left=`${productImageRect.left}px`,clone.style.width=`${productImageRect.width}px`,clone.style.height=`${productImageRect.height}px`,clone.style.transition="all 0.5s cubic-bezier(0.42, 0, 0.58, 1)",clone.style.zIndex="9999",cartIcon.classList.add("rubber-band-animation"),requestAnimationFrame(()=>{clone.style.top=`${rect.top}px`,clone.style.left=`${rect.left}px`,clone.style.width="50px",clone.style.height="50px",clone.style.opacity="0",setTimeout(()=>{clone.remove()},500),setTimeout(()=>{cartIcon.classList.remove("rubber-band-animation")},1e3)})}wishlistToggle(product,i){this.storageService.getLocalStorageData("customer_data")?(this.commonService.getRequestWithToken(`add_to_wishlist?product_id=${product.id}`).subscribe(resp=>{!0===(null==resp?void 0:resp.status)?this.isWishlistAdded[i]=!this.isWishlistAdded[i]:this.messageService.add({severity:"error",detail:resp.message}),this.isWishlistAdded[i]&&this.dataLayerService.push({event:"add_to_wishlist",ecommerce:{item_list_id:"add_to_wishlist",item_list_name:"Product Add to Wishlist",items:[{item_id:product.id,item_name:product.name,currency:"INR",item_variant:product.name,price:product.saleprice,quantity:product.quantity}]}})}),this.storageService.removeLocalStorageData("before-login-wishlist-add")):(this.storageService.setLocalStorageData("before-login-wishlist-add",product.id),this.commonService.loginPopupToggle$.next(!0))}}__name(ProductsComponent,"ProductsComponent"),ProductsComponent.\u0275fac=__name(function(t){return new(t||ProductsComponent)(core.Y36(common_service.v),core.Y36(router.gz),core.Y36(platform_browser.h_),core.Y36(primeng_api.ez),core.Y36(cart_service.N),core.Y36(auth_service.e),core.Y36(data_layer_service.n),core.Y36(storage_service.V),core.Y36(seo_service.v))},"ProductsComponent_Factory"),ProductsComponent.\u0275cmp=core.Xpm({type:ProductsComponent,selectors:[["app-products"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.notifyMeModal=_t.first)}},"ProductsComponent_Query"),decls:6,vars:3,consts:[[1,"container","py-3"],["class","row justify-content-center",4,"ngIf"],["class","heading text-center text-danger m-0 py-5",4,"ngIf"],["notifyMeModal",""],[1,"row","justify-content-center"],[4,"ngFor","ngForOf"],["class","col-sm-4 mb-3",4,"ngIf"],[1,"col-sm-4","mb-3"],[1,"accessories-product-box","h-100"],[3,"routerLink","click"],["imageContainerClass","mb-4","imageClass","product-item","imageContainerHeight","15rem",3,"imageUrl"],[1,"heading-link","mb-1"],[1,"price-holder","mt-2"],["class","price-box",4,"ngIf"],["class","price-discount m-0",4,"ngIf"],["class","out-of-stock m-0",4,"ngIf"],[1,"all-action-box","mt-3"],[1,"d-flex","justify-content-center","flex-sm-wrap"],["type","button","class","btn btn-primary mr-2",3,"click",4,"ngIf"],["styleClass","rounded",3,"showRoundButton","product",4,"ngIf"],["type","button","class","btn wishlist-btn",3,"click",4,"ngIf"],[1,"price-box"],[1,"price"],[3,"innerHTML"],[1,"price","ml-2",3,"innerHTML"],[1,"price-discount","m-0"],[1,"out-of-stock","m-0"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],["styleClass","rounded",3,"showRoundButton","product"],["type","button",1,"btn","wishlist-btn",3,"click"],["class","far fa-heart","pTooltip","Add to Wishlist","tooltipPosition","bottom",4,"ngIf"],["class","fa fa-heart","pTooltip","Remove from Wishlist","tooltipPosition","bottom",4,"ngIf"],["pTooltip","Add to Wishlist","tooltipPosition","bottom",1,"far","fa-heart"],["pTooltip","Remove from Wishlist","tooltipPosition","bottom",1,"fa","fa-heart"],[1,"heading","text-center","text-danger","m-0","py-5"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,ProductsComponent_div_1_Template,2,1,"div",1),core.YNc(2,ProductsComponent_h4_2_Template,2,0,"h4",2),core.YNc(3,ProductsComponent_h4_3_Template,2,0,"h4",2),core.qZA(),core._UZ(4,"app-notify-me-modal",null,3)),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.productsHolder&&ctx.productsHolder.length>0),core.xp6(1),core.Q6J("ngIf",ctx.productsHolder&&0===ctx.productsHolder.length&&!ctx.isFetching),core.xp6(1),core.Q6J("ngIf",ctx.isFetching))},"ProductsComponent_Template"),directives:[common.O5,notify_me_modal_component.o,common.sg,router.yS,image_loader_component.g,add_to_cart_component.I,primeng_tooltip.u],pipes:[price_after_dot_small_pipe.Y,common.H9,common.JJ],styles:[""]});const routes=[{path:":slug",component:ProductsComponent}];class ProductsRoutingModule{}__name(ProductsRoutingModule,"ProductsRoutingModule"),ProductsRoutingModule.\u0275fac=__name(function(t){return new(t||ProductsRoutingModule)},"ProductsRoutingModule_Factory"),ProductsRoutingModule.\u0275mod=core.oAB({type:ProductsRoutingModule}),ProductsRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});var shared_module=__webpack_require__(4834);class ProductsModule{}__name(ProductsModule,"ProductsModule"),ProductsModule.\u0275fac=__name(function(t){return new(t||ProductsModule)},"ProductsModule_Factory"),ProductsModule.\u0275mod=core.oAB({type:ProductsModule}),ProductsModule.\u0275inj=core.cJS({imports:[[common.ez,ProductsRoutingModule,shared_module.m,primeng_tooltip.z]]})}};